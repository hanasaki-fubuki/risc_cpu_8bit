LIBRARY IEEE;
USE IEEE.STD_LOGIC_1164.ALL;
USE IEEE.STD_LOGIC_UNSIGNED.ALL;
ENTITY ALU181 IS
PORT ( S  : IN  STD_LOGIC_VECTOR(2 DOWNTO 0 );
	A, B  : IN  STD_LOGIC_VECTOR(7 DOWNTO 0);
	F  : OUT STD_LOGIC_VECTOR(7 DOWNTO 0);
	COUT : OUT STD_LOGIC_VECTOR(3 DOWNTO 0);
	CO, FZ : OUT STD_LOGIC  );
END ALU181;
ARCHITECTURE behav OF ALU181 IS
	SIGNAL A9, B9, F9 : STD_LOGIC_VECTOR(8 DOWNTO 0);
	BEGIN
	A9 <= '0' & A ;  B9 <= '0' & B ;
	PROCESS(A9,B9)
		BEGIN
			CASE S  IS
				WHEN "000"=>F9<= A9;
				WHEN "001"=>F9<= A9 + B9;
				WHEN "010"=>F9<= A9 - B9;
				WHEN OTHERS  =>F9<= "000000000" ;
			END CASE;
			IF (A9= B9) THEN FZ <= '0';END IF;
		END PROCESS;
	F<= F9(7 DOWNTO 0) ;   CO <= F9(8) ;
	COUT <= "0000" WHEN F9(8) = '0'   ELSE  "0001" ;
END behav;
